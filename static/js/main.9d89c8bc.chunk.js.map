{"version":3,"sources":["components/ProtectedRoute.js","utils/auth.js","utils/variables.js","utils/Api.js","contexts/CurrentUserContext.js","images/logo-header.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/DeleteConfirmPopup.js","components/MenuMobile.js","components/Login.js","components/Register.js","images/Succeed-icon.svg","images/Error-icon.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","URL","handleResponse","res","ok","json","Promise","reject","status","apiInfo","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","_handleResponse","all","getCards","getUserInfo","data","method","body","JSON","stringify","name","link","about","isLiked","authorization","CurrentUserContext","createContext","Header","handleLogout","email","toggleMenu","isMenuOpen","className","src","logo","alt","exact","path","onClick","Card","card","onCardClick","onCardLike","onCardDeleteClick","currentUser","useContext","isOwn","owner","_id","likes","some","i","style","display","type","title","length","Main","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleCardClick","handleCardDeleteClick","cards","backgroundImage","avatar","map","Footer","PopupWithForm","buttonText","isOpen","children","onClose","onSubmit","onCloseOverlay","id","action","EditProfilePopup","onUpdateUser","isLoading","useState","setName","description","setDescription","useEffect","e","preventDefault","onChange","target","value","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","isDataSet","avatarRef","useRef","current","ref","AddPlacePopup","onAddPlace","nameRef","linkRef","ImagePopup","DeleteConfirmPopup","onCardDelete","MenuMobile","Login","handleLogin","password","setData","handleChange","Register","handleRegister","InfoToolTip","icon","SucceedIcon","ErrorIcon","App","setCards","id_","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteConfirmPopupOpen","setDeleteConfirmPopupOpen","isInfoToolTipOpen","setIsInfoToolTipOpen","setIsMenuOpen","setIsLoading","infoToolTipData","setInfoToolTipData","selectedCard","setSelectedCard","deletedCard","setDeletedCard","setLoggedIn","setIsDataSet","userData","setUserData","getAllneededData","userInfo","catch","err","console","log","closeByEscape","evt","key","closeAllPopups","document","addEventListener","removeEventListener","tokenCheck","history","useHistory","push","closeByOverlayClick","currentTarget","handleInfoToolTip","localStorage","removeItem","token","getItem","Accept","Authorization","auth","Provider","changeLikeCardStatus","newCard","c","setItem","finally","setUserInfo","setCard","setAvatar","setDelete","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9d89c8bc.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport const ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() => (props.loggedIn === true ? <Component {...props} /> : <Redirect to='./sign-in' />)}\r\n    </Route>\r\n  );\r\n};\r\n","export const URL = 'https://auth.nomoreparties.co';\r\n\r\nconst handleResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n};\r\n\r\nexport const register = (password, email) => {\r\n  return fetch(`${URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ password, email }),\r\n  }).then(handleResponse);\r\n};\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(handleResponse);\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then(handleResponse);\r\n};\r\n","export const apiInfo = {\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-27/',\r\n  token: '6adb5917-fadd-495b-b42d-5e1b4d17c497',\r\n};\r\n","import { apiInfo } from './variables.js';\r\n\r\nexport default class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  getAllneededData() {\r\n    return Promise.all([this.getCards(), this.getUserInfo()]);\r\n  }\r\n\r\n  setCard(data) {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setAvatar(data) {\r\n    return fetch(`${this._baseUrl}users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setLike(data) {\r\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setDislike(data) {\r\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(data, isLiked) {\r\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\r\n      method: `${isLiked ? 'DELETE' : 'PUT'}`,\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setDelete(data) {\r\n    return fetch(`${this._baseUrl}cards/${data}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then(this._handleResponse);\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: apiInfo.url,\r\n  headers: {\r\n    authorization: apiInfo.token,\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n","import { createContext } from 'react';\r\n\r\nexport const CurrentUserContext = createContext();\r\n","export default __webpack_public_path__ + \"static/media/logo-header.5f3664ca.svg\";","import logo from '../images/logo-header.svg';\r\nimport { Route, Switch, Link } from 'react-router-dom';\r\n\r\nexport const Header = ({ handleLogout, email, toggleMenu, isMenuOpen }) => {\r\n  return (\r\n    <header className='header section'>\r\n      <img className='logo header__logo' src={logo} alt='Логотип' />\r\n      <Switch>\r\n        <Route exact path='/'>\r\n          <div className='header__info'>\r\n            <span className='header__email'>{email}</span>\r\n            <Link to='/sign-in' onClick={handleLogout} className='button header__link'>\r\n              Выйти\r\n            </Link>\r\n          </div>\r\n          <button\r\n            className={\r\n              isMenuOpen\r\n                ? 'header__menu header__menu_type_opened'\r\n                : 'header__menu header__menu_type_closed'\r\n            }\r\n            onClick={toggleMenu}>\r\n            <span />\r\n          </button>\r\n        </Route>\r\n\r\n        <Route path='/sign-in'>\r\n          <Link to='/sign-up' className='button header__link'>\r\n            Регистрация\r\n          </Link>\r\n        </Route>\r\n\r\n        <Route path='/sign-up'>\r\n          <Link to='/sign-in' className='button header__link'>\r\n            Войти\r\n          </Link>\r\n        </Route>\r\n      </Switch>\r\n    </header>\r\n  );\r\n};\r\n","import { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport const Card = ({ card, onCardClick, onCardLike, onCardDeleteClick }) => {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  const handleLikeClick = () => {\r\n    onCardLike(card);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    onCardClick(card);\r\n  };\r\n\r\n  const handleClickDelete = () => {\r\n    onCardDeleteClick(card);\r\n  };\r\n\r\n  return (\r\n    <li className='element'>\r\n      <button\r\n        onClick={handleClickDelete}\r\n        className='button element__delete-button'\r\n        style={isOwn ? { display: 'block' } : { display: 'none' }}\r\n        aria-label='Удалить'\r\n        type='button'></button>\r\n      <img className='element__image' onClick={handleClick} src={card.link} alt={card.title} />\r\n      <div className='element__info'>\r\n        <h2 className='element__title'>{card.name}</h2>\r\n        <div className='element__like'>\r\n          <button\r\n            onClick={handleLikeClick}\r\n            className={\r\n              isLiked\r\n                ? 'button element__like-button element__like-button_active'\r\n                : 'button element__like-button'\r\n            }\r\n            aria-label='Понравилось'\r\n            type='button'></button>\r\n          <span className='element__like-counter'>{card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n","import { useContext } from 'react';\r\nimport { Card } from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport const Main = ({\r\n  handleEditProfileClick,\r\n  handleAddPlaceClick,\r\n  handleEditAvatarClick,\r\n  handleCardClick,\r\n  handleCardDeleteClick,\r\n  cards,\r\n  onCardLike,\r\n}) => {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className='main'>\r\n      <section className='profile section'>\r\n        <div\r\n          className='profile__avatar'\r\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\r\n          onClick={handleEditAvatarClick}></div>\r\n        <div className='profile__info'>\r\n          <h1 className='profile__name'>{currentUser.name}</h1>\r\n          <button\r\n            className='button profile__edit-button'\r\n            aria-label='Изменить профиль'\r\n            type='button'\r\n            onClick={handleEditProfileClick}></button>\r\n          <p className='profile__occupation'>{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          className='button profile__add-button'\r\n          aria-label='Добавить'\r\n          type='button'\r\n          onClick={handleAddPlaceClick}></button>\r\n      </section>\r\n      <section className='section elements'>\r\n        <ul className='elements__list'>\r\n          {cards.map((card) => {\r\n            return (\r\n              <Card\r\n                key={card._id}\r\n                card={card}\r\n                onCardClick={handleCardClick}\r\n                onCardLike={onCardLike}\r\n                onCardDeleteClick={handleCardDeleteClick}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n","export const Footer = () => {\r\n  return (\r\n    <footer className='footer section'>\r\n      <p className='footer__copyright'>&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n};\r\n","export const PopupWithForm = ({\r\n  title,\r\n  name,\r\n  buttonText,\r\n  isOpen,\r\n  children,\r\n  onClose,\r\n  onSubmit,\r\n  onCloseOverlay,\r\n}) => {\r\n  return (\r\n    <section\r\n      onClick={onCloseOverlay}\r\n      className={isOpen ? 'popup popup_type_input popup_opened' : 'popup popup_type_input'}\r\n      id={name}>\r\n      <div className='popup__container popup__container_type_input'>\r\n        <h2 className='popup__title'>{title}</h2>\r\n        <button\r\n          onClick={onClose}\r\n          className='button popup__exit-button'\r\n          type='button'\r\n          aria-label='Закрыть'></button>\r\n        <form onSubmit={onSubmit} className='popup__form' action='#' name={name}>\r\n          {children}\r\n          <button className='button popup__save-button' type='submit' aria-label={buttonText}>\r\n            {buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { PopupWithForm } from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport const EditProfilePopup = ({ isOpen, onClose, onUpdateUser, onCloseOverlay, isLoading }) => {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n\r\n  const handleChangeName = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const handleChangeDescription = (e) => {\r\n    setDescription(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={'edit-profile'}\r\n      title={'Редактировать профиль'}\r\n      buttonText={isLoading ? 'Сохранение...' : 'Сохранить'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      onCloseOverlay={onCloseOverlay}>\r\n      <input\r\n        onChange={handleChangeName}\r\n        value={name}\r\n        className='popup__input'\r\n        id='name'\r\n        type='text'\r\n        placeholder='Имя'\r\n        name='name'\r\n        required\r\n        minLength='2'\r\n        maxLength='40'\r\n      />\r\n      <span className='popup__input-error' id='name-error'>\r\n        Mistake\r\n      </span>\r\n      <input\r\n        onChange={handleChangeDescription}\r\n        value={description}\r\n        className='popup__input'\r\n        id='occupation'\r\n        type='text'\r\n        placeholder='Род занятий'\r\n        name='about'\r\n        required\r\n        minLength='2'\r\n        maxLength='200'\r\n      />\r\n      <span className='popup__input-error' id='occupation-error'></span>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n","import { useEffect, useRef } from 'react';\r\nimport { PopupWithForm } from './PopupWithForm';\r\n\r\nexport const EditAvatarPopup = ({\r\n  isOpen,\r\n  onClose,\r\n  onUpdateAvatar,\r\n  onCloseOverlay,\r\n  isLoading,\r\n  isDataSet,\r\n}) => {\r\n  const avatarRef = useRef();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isDataSet) {\r\n      avatarRef.current.value = '';\r\n    }\r\n  }, [isDataSet]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={'edit-avatar'}\r\n      title={'Обновить аватар'}\r\n      buttonText={isLoading ? 'Сохранение...' : 'Сохранить'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      onCloseOverlay={onCloseOverlay}>\r\n      <input\r\n        ref={avatarRef}\r\n        className='popup__input'\r\n        id='avatar'\r\n        type='url'\r\n        placeholder='Ссылка на картинку'\r\n        name='avatar'\r\n        required\r\n      />\r\n      <span className='popup__input-error' id='avatar-error'></span>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n","import { useEffect, useRef } from 'react';\r\nimport { PopupWithForm } from './PopupWithForm';\r\n\r\nexport const AddPlacePopup = ({\r\n  isOpen,\r\n  onClose,\r\n  onAddPlace,\r\n  onCloseOverlay,\r\n  isLoading,\r\n  isDataSet,\r\n}) => {\r\n  const nameRef = useRef();\r\n  const linkRef = useRef();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name: nameRef.current.value,\r\n      link: linkRef.current.value,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isDataSet) {\r\n      nameRef.current.value = '';\r\n      linkRef.current.value = '';\r\n    }\r\n  }, [isDataSet]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={'add-place'}\r\n      title={'Новое место'}\r\n      buttonText={isLoading ? 'Сохранение...' : 'Сохранить'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      onCloseOverlay={onCloseOverlay}>\r\n      <input\r\n        ref={nameRef}\r\n        className='popup__input'\r\n        id='title'\r\n        type='text'\r\n        placeholder='Название'\r\n        name='name'\r\n        required\r\n        minLength='2'\r\n        maxLength='30'\r\n      />\r\n      <span className='popup__input-error' id='title-error'>\r\n        Mistake\r\n      </span>\r\n      <input\r\n        ref={linkRef}\r\n        className='popup__input'\r\n        id='link'\r\n        type='url'\r\n        placeholder='Ссылка на картинку'\r\n        name='link'\r\n        required\r\n      />\r\n      <span className='popup__input-error' id='link-error'></span>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n","export const ImagePopup = ({ card, onClose, onCloseOverlay }) => {\r\n  return (\r\n    <section\r\n      onClick={onCloseOverlay}\r\n      className={card.link ? 'popup popup_type_image popup_opened' : 'popup popup_type_image'}\r\n      id='image-popup'>\r\n      <div className='popup__container popup__container_type_image'>\r\n        <button\r\n          className='button popup__exit-button'\r\n          onClick={onClose}\r\n          type='button'\r\n          aria-label='Закрыть'></button>\r\n        <img className='popup__image' src={card.link} alt={card.name} />\r\n        <h2 className='popup__caption'>{card.name}</h2>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n","import { PopupWithForm } from './PopupWithForm';\r\n\r\nexport const DeleteConfirmPopup = ({\r\n  isOpen,\r\n  onClose,\r\n  onCloseOverlay,\r\n  onCardDelete,\r\n  isLoading,\r\n}) => {\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onCardDelete();\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='delete-card'\r\n      title={'Удалить карточку'}\r\n      buttonText={isLoading ? 'Удаление...' : 'Удалить'}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      onCloseOverlay={onCloseOverlay}\r\n    />\r\n  );\r\n};\r\n","import { Link } from 'react-router-dom';\r\n\r\nexport const MenuMobile = ({ email, isMenuOpen, handleLogout }) => {\r\n  return (\r\n    <section className={isMenuOpen ? 'menu_mobile' : 'menu_mobile menu_hiden'}>\r\n      <span className='menu__email'>{email}</span>\r\n      <Link to='/sign-in' onClick={handleLogout} className='button menu__link'>\r\n        Выйти\r\n      </Link>\r\n    </section>\r\n  );\r\n};\r\n","import { useState } from 'react';\r\n\r\nexport const Login = ({ handleLogin }) => {\r\n  const [data, setData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = data;\r\n    handleLogin(email, password);\r\n  };\r\n\r\n  return (\r\n    <div className='entrance'>\r\n      <h2 className='entrance__title'>Вход</h2>\r\n\r\n      <form onSubmit={handleSubmit} className='entrance__form'>\r\n        <input\r\n          className='entrance__input'\r\n          id='email'\r\n          required\r\n          name='email'\r\n          type='email'\r\n          value={data.email}\r\n          onChange={handleChange}\r\n          placeholder='E-mail'\r\n        />\r\n\r\n        <input\r\n          className='entrance__input'\r\n          id='password'\r\n          required\r\n          name='password'\r\n          type='password'\r\n          value={data.password}\r\n          onChange={handleChange}\r\n          placeholder='Пароль'\r\n        />\r\n\r\n        <button type='submit' className='entrance__button'>\r\n          Войти\r\n        </button>\r\n      </form>\r\n      <p className='entrance__caption'></p>\r\n    </div>\r\n  );\r\n};\r\n","import { Link } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\n\r\nexport const Register = ({ handleRegister, isDataSet }) => {\r\n  const [data, setData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setData({\r\n      ...data,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = data;\r\n    handleRegister(password, email);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isDataSet) {\r\n      setData({ email: '', password: '' });\r\n    }\r\n  }, [isDataSet]);\r\n\r\n  return (\r\n    <section className='entrance'>\r\n      <h2 className='entrance__title'>Регистрация</h2>\r\n\r\n      <form onSubmit={handleSubmit} className='entrance__form'>\r\n        <input\r\n          className='entrance__input'\r\n          id='email'\r\n          name='email'\r\n          type='email'\r\n          value={data.email}\r\n          onChange={handleChange}\r\n          placeholder='E-mail'\r\n        />\r\n\r\n        <input\r\n          className='entrance__input'\r\n          id='password'\r\n          name='password'\r\n          type='password'\r\n          value={data.password}\r\n          onChange={handleChange}\r\n          placeholder='Пароль'\r\n        />\r\n\r\n        <button type='submit' className='entrance__button'>\r\n          Зарегистрироваться\r\n        </button>\r\n      </form>\r\n\r\n      <p className='entrance__caption'>\r\n        Уже зарегистрированы?&nbsp;\r\n        <Link to='sign-in' className='entrance__link'>\r\n          Войти\r\n        </Link>\r\n      </p>\r\n    </section>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/Succeed-icon.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/Error-icon.d4ce2a26.svg\";","import SucceedIcon from '../images/Succeed-icon.svg';\r\nimport ErrorIcon from '../images/Error-icon.svg';\r\n\r\nexport const InfoToolTip = ({ onCloseOverlay, isOpen, onClose, title, icon }) => {\r\n  return (\r\n    <section\r\n      onClick={onCloseOverlay}\r\n      className={isOpen ? 'popup popup_type_input popup_opened' : 'popup popup_type_input'}>\r\n      <div className='popup__container popup__container_type_notification'>\r\n        <img className='popup__icon' src={icon ? SucceedIcon : ErrorIcon} alt='Иконка' />\r\n        <h2 className='popup__notification'>{title}</h2>\r\n        <button\r\n          onClick={onClose}\r\n          className='button popup__exit-button'\r\n          type='button'\r\n          aria-label='Закрыть'></button>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n","import { useState, useEffect } from 'react';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\n\r\nimport { ProtectedRoute } from './ProtectedRoute';\r\nimport * as auth from '../utils/auth';\r\nimport { api } from '../utils/Api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nimport { Header } from './Header';\r\nimport { Main } from './Main';\r\nimport { Footer } from './Footer';\r\nimport { EditProfilePopup } from './EditProfilePopup';\r\nimport { EditAvatarPopup } from './EditAvatarPopup';\r\nimport { AddPlacePopup } from './AddPlacePopup';\r\nimport { ImagePopup } from './ImagePopup';\r\nimport { DeleteConfirmPopup } from './DeleteConfirmPopup';\r\nimport { MenuMobile } from './MenuMobile';\r\nimport { Login } from './Login';\r\nimport { Register } from './Register';\r\nimport { InfoToolTip } from './InfoTooltip';\r\n\r\nfunction App() {\r\n  // USER & CARDS\r\n  const [cards, setCards] = useState([]);\r\n  const [currentUser, setCurrentUser] = useState({\r\n    name: '',\r\n    about: '',\r\n    id_: '',\r\n  });\r\n  // POPUPS\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isDeleteConfirmPopupOpen, setDeleteConfirmPopupOpen] = useState(false);\r\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false); // buttons\r\n  const [infoToolTipData, setInfoToolTipData] = useState({\r\n    title: '',\r\n    icon: '',\r\n  });\r\n  // CARDS\r\n  const [selectedCard, setSelectedCard] = useState({\r\n    name: '',\r\n    link: '',\r\n  });\r\n  const [deletedCard, setDeletedCard] = useState({\r\n    name: '',\r\n    link: '',\r\n  });\r\n  // AUTH\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [isDataSet, setIsDataSet] = useState(false);\r\n  const [userData, setUserData] = useState({\r\n    email: '',\r\n  });\r\n\r\n  // GET User and Cards\r\n  useEffect(() => {\r\n    api\r\n      .getAllneededData()\r\n      .then((res) => {\r\n        const [cards, userInfo] = res;\r\n        setCards(cards);\r\n        setCurrentUser(userInfo);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  // CLOSE popup by Esc\r\n  useEffect(() => {\r\n    const closeByEscape = (evt) => {\r\n      if (evt.key === 'Escape') {\r\n        closeAllPopups();\r\n      }\r\n    };\r\n    document.addEventListener('keydown', closeByEscape);\r\n    return () => document.removeEventListener('keydown', closeByEscape);\r\n  }, []);\r\n\r\n  // CHECK token\r\n  useEffect(() => {\r\n    tokenCheck();\r\n  }, []);\r\n\r\n  // START page\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      history.push('/');\r\n    }\r\n  }, [history, loggedIn]);\r\n\r\n  // CARD\r\n  const handleCardLike = (card) => {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card._id, isLiked)\r\n      .then((newCard) => {\r\n        setCards((cards) => cards.map((c) => (c._id === card._id ? newCard : c)));\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const handleCardDelete = (card) => {\r\n    setIsLoading(true);\r\n    api\r\n      .setDelete(card._id)\r\n      .then((res) => {\r\n        setCards((cards) => cards.filter((c) => c._id !== card._id));\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card);\r\n  };\r\n\r\n  const handleCardDeleteClick = (card) => {\r\n    setDeletedCard(card);\r\n    setDeleteConfirmPopupOpen(true);\r\n  };\r\n\r\n  // POPUPs\r\n  const onEditProfile = () => {\r\n    setIsEditProfilePopupOpen(true);\r\n  };\r\n  const onAddPlace = () => {\r\n    setIsAddPlacePopupOpen(true);\r\n  };\r\n  const onEditAvatar = () => {\r\n    setIsEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  const closeAllPopups = () => {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard({ name: '', link: '' });\r\n    setDeletedCard({ name: '', link: '' });\r\n    setIsInfoToolTipOpen(false);\r\n    setDeleteConfirmPopupOpen(false);\r\n  };\r\n\r\n  const handleUpdateUser = (data) => {\r\n    setIsLoading(true);\r\n    api\r\n      .setUserInfo(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const handleUpdateAvatar = (data) => {\r\n    setIsLoading(true);\r\n    api\r\n      .setAvatar(data)\r\n      .then((res) => {\r\n        setIsDataSet(true);\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n        setIsDataSet(false);\r\n      });\r\n  };\r\n\r\n  const handleAddPlaceSubmit = (data) => {\r\n    setIsLoading(true);\r\n    api\r\n      .setCard(data)\r\n      .then((res) => {\r\n        setIsDataSet(true);\r\n        setCards([res, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err))\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n        setIsDataSet(false);\r\n      });\r\n  };\r\n\r\n  const closeByOverlayClick = (evt) => {\r\n    if (evt.target === evt.currentTarget) {\r\n      closeAllPopups();\r\n    }\r\n  };\r\n\r\n  const toggleMenu = () => {\r\n    isMenuOpen ? setIsMenuOpen(false) : setIsMenuOpen(true);\r\n  };\r\n\r\n  const handleInfoToolTip = () => {\r\n    setIsInfoToolTipOpen(true);\r\n  };\r\n\r\n  // AUTH\r\n  const handleLogin = (email, password) => {\r\n    auth\r\n      .authorize(email, password)\r\n      .then((res) => {\r\n        if (res.token) {\r\n          localStorage.setItem('token', res.token);\r\n          setUserData({ email: email });\r\n          setLoggedIn(true);\r\n          setIsMenuOpen(false);\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const handleRegister = (password, email) => {\r\n    auth\r\n      .register(password, email)\r\n      .then((res) => {\r\n        setIsDataSet(true);\r\n        history.push('/sign-in');\r\n        setInfoToolTipData({\r\n          icon: true,\r\n          title: 'Вы успешно зарегистрировались!',\r\n        });\r\n        handleInfoToolTip();\r\n      })\r\n      .catch(() => {\r\n        setIsDataSet(false);\r\n        setInfoToolTipData({\r\n          icon: false,\r\n          title: 'Что-то пошло не так! Попробуйте ещё раз.',\r\n        });\r\n        handleInfoToolTip();\r\n      })\r\n      .finally(() => {\r\n        setIsDataSet(false);\r\n      });\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    setUserData({ email: '' });\r\n    setLoggedIn(false);\r\n  };\r\n\r\n  const tokenCheck = () => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      auth\r\n        .getContent(token)\r\n        .then((res) => {\r\n          if (res) {\r\n            setUserData({ email: res.data.email });\r\n            setLoggedIn(true);\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className='page'>\r\n        {loggedIn && (\r\n          <MenuMobile email={userData.email} handleLogout={handleLogout} isMenuOpen={isMenuOpen} />\r\n        )}\r\n\r\n        <Header\r\n          handleLogout={handleLogout}\r\n          email={userData.email}\r\n          toggleMenu={toggleMenu}\r\n          isMenuOpen={isMenuOpen}\r\n        />\r\n\r\n        <Switch>\r\n          <ProtectedRoute\r\n            exact\r\n            path='/'\r\n            loggedIn={loggedIn}\r\n            handleEditProfileClick={onEditProfile}\r\n            handleAddPlaceClick={onAddPlace}\r\n            handleEditAvatarClick={onEditAvatar}\r\n            handleCardClick={handleCardClick}\r\n            handleCardDeleteClick={handleCardDeleteClick}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            component={Main}\r\n          />\r\n\r\n          <Route path='/sign-in'>\r\n            <Login handleLogin={handleLogin} />\r\n          </Route>\r\n\r\n          <Route path='/sign-up'>\r\n            <Register handleRegister={handleRegister} isDataSet={isDataSet} />\r\n          </Route>\r\n\r\n          <Route>{loggedIn ? <Redirect to='/' /> : <Redirect to='/sign-in' />}</Route>\r\n        </Switch>\r\n\r\n        <Footer />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          isLoading={isLoading}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n          onCloseOverlay={closeByOverlayClick}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          isLoading={isLoading}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n          onCloseOverlay={closeByOverlayClick}\r\n          isDataSet={isDataSet}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          isLoading={isLoading}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          onCloseOverlay={closeByOverlayClick}\r\n          isDataSet={isDataSet}\r\n        />\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          onClose={closeAllPopups}\r\n          onCloseOverlay={closeByOverlayClick}\r\n        />\r\n        <DeleteConfirmPopup\r\n          isOpen={isDeleteConfirmPopupOpen}\r\n          card={deletedCard}\r\n          onClose={closeAllPopups}\r\n          onCloseOverlay={closeByOverlayClick}\r\n          onCardDelete={() => handleCardDelete(deletedCard)}\r\n          isLoading={isLoading}\r\n        />\r\n        <InfoToolTip\r\n          onCloseOverlay={closeByOverlayClick}\r\n          isOpen={isInfoToolTipOpen}\r\n          onClose={closeAllPopups}\r\n          title={infoToolTipData.title}\r\n          icon={infoToolTipData.icon}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}